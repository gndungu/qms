{% extends "admin/change_list.html" %}

{% block extrahead %}
    {{ block.super }}
    <style>
        tr.clickable-row:hover {
            background-color: #f5f5f5;
            cursor: pointer;
        }
    </style>
{% endblock %}

{% block result_list %}
    {{ block.super }}
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const rows = document.querySelectorAll("tr.model-customer");
            rows.forEach(row => {
                const link = row.querySelector("th > a");
                if (link) {
                    row.classList.add("clickable-row");
                    row.addEventListener("click", () => {
                        window.location = "{% url 'admin:account_organisation_change' 'REPLACE_ID' %}".replace('REPLACE_ID', row.dataset.objectId);
                    });
                }
            });
        });
    </script>
{% endblock %}
